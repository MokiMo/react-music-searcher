{"version":3,"sources":["components/UI/ErrorMessage.js","containers/MusicSearch/API_KEY.js","containers/MusicSearch/SearchMusic.js","containers/MusicSearch/DisplayMusic/DisplayMusic.js","containers/MusicSearch/LayoutSearchMusic.js"],"names":["UI_ErrorMessage","Object","es","state","error","app","_ref","react_default","a","createElement","Snackbar_default","anchorOrigin","vertical","horizontal","open","ContentProps","aria-describedby","message","id","API_KEY","startLoading","actions","errorCaught","stopLoading","SearchMusic_MusicSearch","input","searchLimit","handleChange","event","_this","setState","target","value","search","props","_this$state","axios_default","all","get","concat","then","spread","tracksRes","albumsRes","artistRes","musicFound","tracks","addUUID","data","results","trackmatches","track","albums","albummatches","album","artists","artistmatches","artist","catch","err","response","map","item","_objectSpread","uuid","v4_default","_this2","this","classes","react","Loading","Paper_default","className","Paper","Typography_default","variant","align","gutterBottom","padding","Search_default","onClick","TextField_default","margin","label","onChange","onKeyPress","e","key","preventDefault","styledMusicSearch","styles","theme","spacing","unit","textAlign","paddingTop","paddingBottom","SearchMusic","musicSearch_actions","MusicSearch_DisplayMusic_DisplayMusic","musicSearch","length","MapMusic","name","__webpack_exports__"],"mappings":"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","file":"static/js/2.9a6d8e8c.chunk.js","sourcesContent":["import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { connect } from 'react-redux';\r\n\r\nconst ErrorMessage = ({ error }) => (\r\n  <Snackbar\r\n    anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n    open={!!error}\r\n    ContentProps={{\r\n      'aria-describedby': 'message-id',\r\n    }}\r\n    message={<span id=\"message-id\">Error. Please try again</span>}\r\n  />\r\n);\r\n\r\nexport default connect(state => ({\r\n  error: state.app.error,\r\n}))(ErrorMessage);\r\n","export default 'b51df88e361c4665a2ad4912378a67f1';\n","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Search from '@material-ui/icons/Search';\r\nimport PropTypes from 'prop-types';\r\nimport uuidv4 from 'uuid/v4';\r\nimport Loading from '../../components/UI/Loading';\r\nimport API_KEY from './API_KEY';\r\nimport appActions from '../../redux/app/actions';\r\nimport { musicFound } from '../../redux/musicSearch/actions';\r\n\r\nconst { startLoading, errorCaught, stopLoading } = appActions;\r\n\r\nconst styles = theme => ({\r\n  Paper: {\r\n    margin: 2 * theme.spacing.unit,\r\n    padding: 20,\r\n    textAlign: 'center',\r\n  },\r\n  margin: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n  padding: {\r\n    paddingTop: 15,\r\n    paddingBottom: 15,\r\n  },\r\n});\r\n\r\nclass MusicSearch extends Component {\r\n  state = {\r\n    input: '',\r\n    searchLimit: 3,\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ input: event.target.value });\r\n  };\r\n\r\n  // get data for tracks || albums || artists from last.fm\r\n  search = () => {\r\n    this.props.startLoading();\r\n    const { input, searchLimit } = this.state;\r\n    // Get the api key from last.fm\r\n    // create API_KEY.js in the same directory -> export const API_KEY = \"key\";\r\n    axios\r\n      .all([\r\n        axios.get(\r\n          `https://ws.audioscrobbler.com/2.0/?method=track.search&track=${input}&api_key=${API_KEY}&format=json&limit=${searchLimit}`\r\n        ),\r\n        axios.get(\r\n          `https://ws.audioscrobbler.com/2.0/?method=album.search&album=${input}&api_key=${API_KEY}&format=json&limit=${searchLimit}`\r\n        ),\r\n        axios.get(\r\n          `https://ws.audioscrobbler.com/2.0/?method=artist.search&artist=${input}&api_key=${API_KEY}&format=json&limit=${searchLimit}`\r\n        ),\r\n      ])\r\n      .then(\r\n        axios.spread((tracksRes, albumsRes, artistRes) => {\r\n          this.props.musicFound({\r\n            tracks: this.addUUID(tracksRes.data.results.trackmatches.track),\r\n            albums: this.addUUID(albumsRes.data.results.albummatches.album),\r\n            artists: this.addUUID(artistRes.data.results.artistmatches.artist),\r\n          });\r\n          this.props.stopLoading();\r\n        })\r\n      )\r\n      .catch(err => {\r\n        this.props.errorCaught(err);\r\n      });\r\n  };\r\n\r\n  // usually, an unique identifier should be provided by the backend\r\n  addUUID(response) {\r\n    return response.map(item => ({\r\n      ...item,\r\n      uuid: uuidv4(),\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <Loading />\r\n        <Paper className={classes.Paper}>\r\n          <Typography\r\n            variant=\"display1\"\r\n            align=\"center\"\r\n            gutterBottom\r\n            className={classes.padding}\r\n          >\r\n            Start Searching Music\r\n          </Typography>\r\n          <Search onClick={this.search} />\r\n          <TextField\r\n            className={classes.margin}\r\n            value={this.state.input}\r\n            id=\"input-with-icon-textfield\"\r\n            label=\"Start searching\"\r\n            onChange={this.handleChange}\r\n            onKeyPress={e => {\r\n              if (e.key === 'Enter') {\r\n                this.search();\r\n                e.preventDefault();\r\n              }\r\n            }}\r\n          />\r\n        </Paper>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nMusicSearch.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styledMusicSearch = withStyles(styles)(MusicSearch);\r\nexport default connect(\r\n  null,\r\n  {\r\n    musicFound,\r\n    startLoading,\r\n    errorCaught,\r\n    stopLoading,\r\n  }\r\n)(styledMusicSearch);\r\n","import { connect } from 'react-redux';\r\nimport React, { Fragment } from 'react';\r\nimport MapMusic from './MapMusic';\r\n\r\nconst DisplayMusic = props => (\r\n  <Fragment>\r\n    {props.tracks.length > 0 && (\r\n      <MapMusic tracks={props.tracks} name=\"tracks\" />\r\n    )}\r\n    {props.albums.length > 0 && (\r\n      <MapMusic tracks={props.albums} name=\"albums\" />\r\n    )}\r\n    {props.artists.length > 0 && (\r\n      <MapMusic tracks={props.artists} name=\"artists\" />\r\n    )}\r\n  </Fragment>\r\n);\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    tracks: state.musicSearch.tracks,\r\n    albums: state.musicSearch.albums,\r\n    artists: state.musicSearch.artists,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(DisplayMusic);\r\n","import React, { Fragment } from 'react';\r\nimport ErrorMessage from '../../components/UI/ErrorMessage';\r\nimport SearchMusic from './SearchMusic';\r\nimport DisplayMusic from './DisplayMusic/DisplayMusic';\r\n\r\n// layout for searchmusic-route\r\nconst LayoutSearchMusic = () => (\r\n  <Fragment>\r\n    <ErrorMessage />\r\n    <SearchMusic />\r\n    <DisplayMusic />\r\n    <br />\r\n    <div />\r\n  </Fragment>\r\n);\r\n\r\nexport default LayoutSearchMusic;\r\n"],"sourceRoot":""}